<!DOCTYPE html>
<html xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
  <title>Quản lý intern</title>
  <link rel="icon" th:href="@{/image/tinasoft-logo1.png}" type="image/png" id="sitelogo">
  <link rel="stylesheet" type="text/css" th:href="@{/style.css}">
  <script th:src="@{/script.js}" type="text/javascript"></script>

   <style>
   </style>
</head>
<body>
<div class="sidebar">
  <h2>Menu</h2>
  <ul>
    <li>Trang chủ</li>
    <li>Danh sách intern</li>
    <li>Lịch lên công ty</li>
    <li>Thêm intern</li>
    <li>Sửa intern</li>
    <li>Xóa intern</li>
  </ul>
</div>

<div class="content">
  <img th:src="@{/image/tinasoft-logo.jpg}" alt="logo" id="logo1">
  Wellcome <span sec:authentication="principal.username">User</span>
  <a th:href="@{registration}" class="login-tag">Register</a>
  <a th:href="@{login}" class="login-tag">Login</a>
  <a sec:isAuthenticated() th:href="@{/logout}" class="login-tag">Logout</a>
  <!-- <img src="/static/image/tinasoft-logo.jpg" alt="logo" id="logo1"> 
  <a href="registration.html" class="logintag">Register</a>
  <a href="registration.html" class="logintag">Login</a> -->
  <h2>Danh sách intern</h2>
  <input type="text" id="searchInput" placeholder="Tìm kiếm intern...">

  <table id="internTable">
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Email</th>
      <th>Position</th>
      <th>Mentor</th>
    </tr>
    <!-- Thẻ <tr> và <td> sẽ được tạo bằng cách sử dụng JavaScript -->
  </table>

  <script>
    // Sử dụng JavaScript để gọi API từ Spring Boot và tạo bảng
    fetch('/api/v1/intern').then(response => response.json()).then(interns => {
              const table = document.querySelector('table');
              interns.forEach(intern => {
                const row = table.insertRow();
                row.insertCell().textContent = intern.id;
                row.insertCell().textContent = intern.name;
                row.insertCell().textContent = intern.email;
                row.insertCell().textContent = intern.position;
                row.insertCell().textContent = intern.mentor_Id;
              });
            })
            .catch(error => console.error('Error fetching interns:', error));
  </script>

  <div id="pagination">
    <button onclick="previousPage()">Trang trước</button>
    <button onclick="nextPage()">Trang sau</button>
  </div>
</div>

</body>
</html>

